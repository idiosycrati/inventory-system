<!DOCTYPE html>
<!-- <html lang="en"> -->
<html xmlns:th="https://www.thymeleaf.org"></html>
<head>
    <meta charset="UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/front.css">
    <!-- Compiled and minified CSS -->
 <script type = "text/javascript" src = "https://code.jquery.com/jquery-2.1.1.min.js"></script>   
<script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <link rel = "stylesheet"
    href = "https://fonts.googleapis.com/icon?family=Material+Icons">
 <link rel = "stylesheet"
    href = "https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/css/materialize.min.css">
        
 <script src = "https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/js/materialize.min.js">
 
  
 </script> 
 <!-- <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script> <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/js/materialize.min.js"></script> -->




    <title>systems</title>
  
</head>
<body>
<script>
       function addToCart(myid)
    		{
                var q = $("#quan"+myid).val(); 
                console.log(q);
    		 $.ajax({
    			  type: 'get',
    			  url: "addToCart?productId="+myid+"&productQuantity="+q,
    			  success: function(data){
    				  $('#cartList').html(data);
    				},
    			})	
    		}
</script>


 <script>
  // $(".dropdown-trigger").dropdown();

  //  <script>
        function addToCart(productId)
    		{
                var quantity = $("#quantity"+productId).val(); 
                console.log(quantity);
    		 $.ajax({
    			  type: 'get',
    			  url: "addToCart?productId="+productId+"&productQuantity="+quantity,
    			  success: function(data){
    				  $('#nav-mobile').html(data);
    				},
    			})	
    		}



      
  // var slider = document.getElementById('test-slider');
  // noUiSlider.create(slider, {
  //  start: [20, 80],
  //  connect: true,
  //  step: 1,
  //  orientation: 'horizontal', // 'horizontal' or 'vertical'
  //  range: {
  //    'min': 0,
  //    'max': 100
  //  },
  //  format: wNumb({
  //    decimals: 0
  //  })
  // });
        




    // </script>
</script>


 <nav>
    <div class="nav-wrapper  grey darken-1">
      <a href="#" class="brand-logo">Logo</a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        <!-- <li><a href="sass.html">Sass</a></li> -->
        <!-- <li><a href="badges.html">Components</a></li> -->
        <!-- <span th:if="${#authentication.name != 'anonymousUser'}">Not Logged In -->
        <li><a href="#">Cart<span  class="badge white-text" th:if="${#authentication.name != 'anonymousUser'}" th:text="${#lists.size(cart)}"> </span></a></li>
     
      </ul>
    </div>
  </nav>





<header>

</header>
<main>
     <div class="tags">
         <h4>Products</h4>
     </div>      
     <hr>
<div>

</div>


   <div class="mcontainer">
       <div class="content">
        
           
    
<div class="row">

  


    <div th:if="${#lists.size(products)}==0">

      <div class="col s12 m6">
        <div class="card large">
          <div class="card-image">
            <img th:src="@{images/p1.jpeg}"/>
            <span class="card-title">No available products at the moment!</span>
          </div>
          <div class="card-content">
            <p>Thanks for visiting supplies will be restocked soon.</p>
          </div>
   </div>
      </div>
    </div>

   <!-- ELSE -->
   <div th:unless="${#lists.size(products)}==0">

 
<!-- <th:block th:object="${products}"> -->
 <div class="col s12 m6" th:each=" product : ${products} " >


  <div class="card small">
    <div class="card-image">
      <img th:src="@{images/p1.jpeg}">
      <span class="card-title" th:text="${product.productName}"></span>
    </div>
    <div class="card-content">
      <p>I am a very simple card. I am good at containing small bits of information.
      I am convenient because I require little markup to use effectively.</p>
    </div>
<div class="card-reveal">
  <span class="card-title grey-text text-darken-4">Card Title<i class="material-icons right">close</i></span>
  <p>Here is some more information about this product that is only revealed once clicked on.</p>
</div>
    <div class="card-action">
      <p class="range-field">
        <input type="range" min="1" th:max=${product.remainingQuantity} name="productQuantity" th:id="'quantity'+${product.id}"/>
      </p>
      <button class="btn" type="button" th:onclick="'javascript:addToCart(' + ${product.id} +')'">Add to Cart</button>
      
    </div>
</div>


   </div>

    
 
</div>



    
 










  

   
</div>
  

</div>
   </div>
<div>
<h4 class="tags">News</h4>
</div>
<hr>


      

</div>

</main> 

<footer class="page-footer grey darken-1 ">
    
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text">Footer Content</h5>
          <p class="grey-text text-lighten-4">You can use rows and columns here to organize your footer content.</p>
        </div>
        <div class="col l4 offset-l2 s12">
          <h5 class="white-text">Links</h5>
          <ul>
            <li>Link 1</li>
            <li>Link 2</li>
            <li>Link 3</li>
            <li>Link 4</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="footer-copyright">
      <div class="container">
      Â© 2020 Copyright Text
      More Links
      </div>
    </div>
  </footer>




</body>
</html>